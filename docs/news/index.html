<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • txshift</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">txshift</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro_txshift.html">Evaluating Causal Effects of Modified Treatment Policies</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/nhejazi/txshift/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/nhejazi/txshift/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.9" id="txshift-039">txshift 0.3.9<a class="anchor" aria-label="anchor" href="#txshift-039"></a></h2>
<p>As of October 2023: * A new argument <code>bound</code> has been added to <code><a href="../reference/est_g_cens.html">est_g_cens()</a></code> to specify the lower tolerated limit of the censoring mechanism estimates. This is used to allow for stable inverse probability of censoring weights to be applied. This bound has been given a default value of 0.02. * The default value of <code>bound</code> in <code><a href="../reference/bound_propensity.html">bound_propensity()</a></code> has been changed from 0.005 to 0.01, as has the default value of <code>gps_bound</code> in <code><a href="../reference/txshift.html">txshift()</a></code>.</p>
<p>As of May 2023: * A new argument <code>bound</code> has been added to <code><a href="../reference/bound_propensity.html">bound_propensity()</a></code> to specify the lower tolerated limit of generalized propensity score estimates. Estimates are bounded to the higher of the specified or default value of <code>bound</code> and the inverse of the sample size, 1/n. * A new argument <code>gps_bound</code> has also been introduced to both <code><a href="../reference/txshift.html">txshift()</a></code> and <code><a href="../reference/est_Hn.html">est_Hn()</a></code> in order to accommodate passing in truncation bounds for the estimated generalized propensity score.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.6" id="txshift-036">txshift 0.3.6<small>2021-10-18</small><a class="anchor" aria-label="anchor" href="#txshift-036"></a></h2>
<p>As of October 2021: * Minor updates to ensure compatibility with v0.4.1 of <code>hal9001</code> and v0.2.1 of <code>haldensify</code>, both recently updated on CRAN. * Removal of the <code>LazyData</code> field from the <code>DESCRIPTION</code>, since no <code>data</code> directory is included with the package. * Minor tweaks to existing unit tests to remove <code>rlang</code> from the <code>Suggests</code> field of the <code>DESCRIPTION</code>. * Vignettes for the standard and IPCW-augmented estimation procedures have been combined to reduce redundancy and reduce build time per CRAN requests.</p>
<p>As of May 2021: * The use of <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal()</a></code> internally for evaluation of a conditional mean of the full-data EIF has been revised for compatibility with v0.4.0+ of the <code>hal9001</code> package. * Defaults passed in through the argument <code>g_exp_fit_args</code>, and to the function <code><a href="../reference/est_g_exp.html">est_g_exp()</a></code>, have been updated for compatibility with v0.1.5+ of the <code>haldensify</code> package.</p>
<p>As of April 2021: * The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> methods have been updated to remove the use of <a href="https://github.com/r-lib/cli" class="external-link"><code>cli</code> functions</a>, which, for simplicity, has been replaced by the use of <code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code>. * Addition of a hidden slot <code>.eif_mat</code> to the <code>txshift_msm</code> class, supporting export of the matrix of EIF estimates for each shift in <code>delta_grid</code>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.5" id="txshift-035">txshift 0.3.5<small>2021-02-07</small><a class="anchor" aria-label="anchor" href="#txshift-035"></a></h2>
<p>As of February 2021: * Remove cross-linking to <code>sl3</code> functions as per request from CRAN. This can be reversed once <code>sl3</code> is available on CRAN.</p>
<p>As of January 2021: * Simulation experiments testing the performance of the procedures in the presence of loss to follow-up censoring indicate that the TML estimator outperforms the one-step for the EIF-based two-phase sampling correction. Generally, we recommend use of the TML estimator (the default) across all settings, though performance of the one-step estimator is much worse.</p>
<p>As of December 2020: * A <code>delta</code> slot has been added to the <code>txshift</code> class to record the shift. * Hidden slots have been similarly added to the <code>txshift_msm</code> class. * The <code>summary</code> method has been removed, with the functionality now supported by the <code>print</code> methods for the <code>txshift</code> and <code>txshift_msm</code> classes. * The <code>plot</code> method has been amended to support simultaneous confidence bands.</p>
<p>As of October 2020: * Changes all references to the argument <code>C</code> to <code>C_samp</code> for the indicator of inclusion in the second-stage sample. * Adds the new argument <code>C_cens</code> to denote censoring due to loss to follow-up, i.e., prior to the occurrence of the outcome. * Adds a nuisance regression for censoring <code>C_cens</code> and adjusts the estimation procedure so as to use inverse censoring weights in the full-data EIF procedure (NOTE: these are not updated in the two-phase sampling correction). * Renaming of arguments to internal functions and functions themselves: * From <code>est_g</code> to <code>est_g_exp</code> for the exposure mechanism density estimation * From <code>est_ipcw</code> to <code>est_samp</code> for the two-phase sampling mechanism * Add <code>est_g_cens</code> for the loss to follow-up censoring mechanism</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.4" id="txshift-034">txshift 0.3.4<small>2020-09-25</small><a class="anchor" aria-label="anchor" href="#txshift-034"></a></h2>
<p>As of September 2020: * Moved <code>sl3</code> dependency to an <code>Enhances</code> designation for CRAN submission. * As above, removed <code>sl3</code> from <code>Remotes</code> and added installation safety checks.</p>
<p>As of June 2020: * Add single-knot spline to MSM summarization (<code>msm_vimshift</code>). * Add class and <code>plot</code> method for MSM summarization (<code>msm_vimshift</code>). * Fix bug in <code>msm_vimshift</code> for computing CIs for binary outcomes by switching from manually computing CIs to internally using custom <code>confint</code> method. * Fix bug in <code>msm_vimshift</code> for building <code>lm</code> model objects through weighted regression; move models from <code>plot</code> method to <code>msm_vimshift</code>. * Finish drafting brief paper for <em>Journal of Open Source Software</em>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.3" id="txshift-033">txshift 0.3.3<a class="anchor" aria-label="anchor" href="#txshift-033"></a></h2>
<p>As of April 2020: * Change export status of internal functions (e.g., no longer exporting <code>onestep_txshift</code> and <code>tmle_txshift</code>). * Finish adding Roxygen “details” and “return” slots throughout functions. * Add examples to main estimation functions (<code>txshift</code>, <code>vimshift_msm</code>). * Update argument names and add several <code>assert_that</code> checks. * Change <code>fit_spec</code> terminology to <code>fit_ext</code> for external fits. * Add unit tests for MSM functionality and nuisance parameter estimation.</p>
<p>As of March 2020: * Extensive documentation, including fixing estimation terminology (e.g., one-step instead of AIPW) and adding Roxygen “details” and “return” slots. * Begin adding examples to exported functions.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.2" id="txshift-032">txshift 0.3.2<a class="anchor" aria-label="anchor" href="#txshift-032"></a></h2>
<p>As of March 2020: * Corrections to dependencies in preparation for eventual CRAN release. * Change several previously exported functions to internal, including <code>eif</code>, <code>est_Hn</code>, <code>est_Q</code>, <code>est_g</code>, <code>est_ipcw</code>, <code>fit_fluctuation</code>, <code>ipcw_eif_update</code>). * Remove/reduce GitHub-only dependencies (now only <code>sl3</code>). * Change title partially (from “Targeted Learning” to “Efficient Estimation”). * Lock dependency versions (e.g., <code>sl3</code> &gt;= v1.3.7) * Extensive documentation updates.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.1" id="txshift-031">txshift 0.3.1<a class="anchor" aria-label="anchor" href="#txshift-031"></a></h2>
<p>As of December 2019: * Changes arguments of <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal</a></code> in pseudo-outcome regression for efficient estimation by explicitly including <code>max_degree = NULL</code>. * Change to TMLE convergence criterion: use a less strict criterion such that | Pn D | sigma / (sqrt(n) max(10, log(n))) instead of /n. Empirical studies suggest this curbs issues addressed by over-agressive updates from the targeting step. * Remove pinning of <code>sl3</code> dependency to a specific tag (formerly v1.2.0). * Lock dependency version: <code>sl3</code> &gt;= v1.3.6 and <code>hal9001</code> &gt;= v0.2.5.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="txshift-030">txshift 0.3.0<a class="anchor" aria-label="anchor" href="#txshift-030"></a></h2>
<p>As of October 2019: * Change use of <code>as.data.table</code> to <code>data.table</code> in internal functions to catch up with changes in dependencies.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.9" id="txshift-029">txshift 0.2.9<a class="anchor" aria-label="anchor" href="#txshift-029"></a></h2>
<p>As of September 2019: * Remove errant intercept term and lower iterations for fluctuation models. * Change weighting scheme in marginal structural model summarization to weight all estimates identically rather than by inverse variance as a default. * Updates to documentation.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.8" id="txshift-028">txshift 0.2.8<a class="anchor" aria-label="anchor" href="#txshift-028"></a></h2>
<p>As of September 2019: * Add safety checks for convergence of fluctuation regressions based on those appearing in <code>drtmle</code> and/or <code>survtmle</code>. * Change default confidence interval type to use marginal CIs across multiple parameters instead of a simultaneous confidence band. * Switch internal parametric regressions to use <code><a href="https://tlverse.org/sl3/reference/Lrnr_glm.html" class="external-link">sl3::Lrnr_glm</a></code> instead of <code><a href="https://tlverse.org/sl3/reference/Lrnr_glm_fast.html" class="external-link">sl3::Lrnr_glm_fast</a></code>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.7" id="txshift-027">txshift 0.2.7<a class="anchor" aria-label="anchor" href="#txshift-027"></a></h2>
<p>As of July 2019: * Improve argument names for clarity and update documentation. * Addition of tighter unit tests for both one-step and TML estimators.</p>
<p>As of June 2019: * Pin <code>sl3</code> dependency to version 1.2.0 of that package for stability.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.6" id="txshift-026">txshift 0.2.6<a class="anchor" aria-label="anchor" href="#txshift-026"></a></h2>
<p>As of June 2019: * Changes to arguments of <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal</a></code> for pseudo-outcome EIF regression. * Addition of clarifying notes to core internal functions. * Removal of outdated (and commented out) code in core internal functions. * Clarifying alterations to internal function and argument names. * Renaming internal function <code>tx_shift</code> to <code>shift_additive</code>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.5" id="txshift-025">txshift 0.2.5<a class="anchor" aria-label="anchor" href="#txshift-025"></a></h2>
<p>As of June 2019: * Remove inverse weights from estimated efficient influence function necessary for pseudo-outcome regression for efficient IPCW-augmented estimators. * Reduce use of redundant variables across core functions, reorganize functions across files, clarify documentation. * Tweak arguments for fitting pseudo-outcome regression with HAL in order to diagnose performance issues revealed by simulation. * Fix how inverse weights are passed to full-data estimators. * Pare down arguments for the one-step estimation routine.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.4" id="txshift-024">txshift 0.2.4<a class="anchor" aria-label="anchor" href="#txshift-024"></a></h2>
<p>As of June 2019: * Introduce <code>bound_propensity</code> function to bound the propensity score away from zero by a factor 1/n, rather than to numerical precision.</p>
<p>As of April 2019: * Minor improvements to documentation and vignettes. * Fix a bug in the output of the IPCW one-step estimator. * Pare down packages listed in imports, moving several to suggests. * Introduce option to compute simultaneous confidence band for working MSMs. * Fix a bug introduced by newly added imputation functionality in <code>sl3</code>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.3" id="txshift-023">txshift 0.2.3<a class="anchor" aria-label="anchor" href="#txshift-023"></a></h2>
<p>As of March 2019: * Introduce functionality for computing one-step estimators to complement the the available TMLEs. * Add initial functionality for summarizing estimated effects across a grid of shifts via working marginal structural models (MSMs).</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.2" id="txshift-022">txshift 0.2.2<a class="anchor" aria-label="anchor" href="#txshift-022"></a></h2>
<p>As of February 2019: * Added helper functions and caught edge cases in auxiliary covariate for TMLE fluctuation models. * Fixed a bug in how the auxiliary covariate for TMLEs is computed by keeping track of an extra shift g(a+2<em>delta|w). </em> Revised inference machinery to create confidence intervals on the logit scale in the case of binary outcomes.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="txshift-020">txshift 0.2.0<a class="anchor" aria-label="anchor" href="#txshift-020"></a></h2>
<p>As of May 2018: * An initial public release of this package, version 0.2.0. * This version including complete functionality for both standard TML and IPCW-TML estimators.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nima Hejazi, David Benkeser.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

