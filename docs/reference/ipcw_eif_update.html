<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Iterative IPCW Update Procedure of Augmented Efficient Influence Function — ipcw_eif_update • txshift</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Iterative IPCW Update Procedure of Augmented Efficient Influence Function — ipcw_eif_update"><meta property="og:description" content="Iterative IPCW Update Procedure of Augmented Efficient Influence Function"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">txshift</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro_txshift.html">Evaluating Causal Effects of Modified Treatment Policies</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/nhejazi/txshift/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Iterative IPCW Update Procedure of Augmented Efficient Influence Function</h1>
    <small class="dont-index">Source: <a href="https://github.com/nhejazi/txshift/blob/HEAD/R/eifs.R" class="external-link"><code>R/eifs.R</code></a></small>
    <div class="hidden name"><code>ipcw_eif_update.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Iterative IPCW Update Procedure of Augmented Efficient Influence Function</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ipcw_eif_update</span><span class="op">(</span></span>
<span>  <span class="va">data_internal</span>,</span>
<span>  <span class="va">C_samp</span>,</span>
<span>  <span class="va">V</span>,</span>
<span>  <span class="va">ipc_mech</span>,</span>
<span>  <span class="va">ipc_weights</span>,</span>
<span>  <span class="va">Qn_estim</span>,</span>
<span>  <span class="va">Hn_estim</span>,</span>
<span>  estimator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tmle"</span>, <span class="st">"onestep"</span><span class="op">)</span>,</span>
<span>  fluctuation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  flucmod_tol <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  eif_reg_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hal"</span>, <span class="st">"glm"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data-internal">data_internal<a class="anchor" aria-label="anchor" href="#arg-data-internal"></a></dt>
<dd><p>A <code>data.table</code> containing of the observations
selected into the second-phase sample.</p></dd>


<dt id="arg-c-samp">C_samp<a class="anchor" aria-label="anchor" href="#arg-c-samp"></a></dt>
<dd><p>A <code>numeric</code> indicator for missingness due to exclusion
the from second-stage sample.</p></dd>


<dt id="arg-v">V<a class="anchor" aria-label="anchor" href="#arg-v"></a></dt>
<dd><p>A <code>data.table</code> giving the values across all observations of
all variables that play a role in the censoring mechanism.</p></dd>


<dt id="arg-ipc-mech">ipc_mech<a class="anchor" aria-label="anchor" href="#arg-ipc-mech"></a></dt>
<dd><p>A <code>numeric</code> vector of the censoring mechanism estimates
all of the observations, only for the two-phase sampling mechanism. Note
well that these values do NOT account for censoring from loss to follow-up.</p></dd>


<dt id="arg-ipc-weights">ipc_weights<a class="anchor" aria-label="anchor" href="#arg-ipc-weights"></a></dt>
<dd><p>A <code>numeric</code> vector of inverse probability of
censoring weights, including such weights for censoring due to loss to
follow-up. Without loss to follow-up, these are equivalent to <code>C_samp
/ ipc_mech</code> in an initial run of this procedure.</p></dd>


<dt id="arg-qn-estim">Qn_estim<a class="anchor" aria-label="anchor" href="#arg-qn-estim"></a></dt>
<dd><p>A <code>data.table</code> corresponding to the outcome regression.
This is produced by invoking the internal function <code>est_Q</code>.</p></dd>


<dt id="arg-hn-estim">Hn_estim<a class="anchor" aria-label="anchor" href="#arg-hn-estim"></a></dt>
<dd><p>A <code>data.table</code> corresponding to values produced in the
computation of the auxiliary ("clever") covariate. This is produced easily
by invoking the internal function <code>est_Hn</code>.</p></dd>


<dt id="arg-estimator">estimator<a class="anchor" aria-label="anchor" href="#arg-estimator"></a></dt>
<dd><p>The type of estimator to be fit, either <code>"tmle"</code> for
targeted maximum likelihood estimation or <code>"onestep"</code> for a one-step
estimator.</p></dd>


<dt id="arg-fluctuation">fluctuation<a class="anchor" aria-label="anchor" href="#arg-fluctuation"></a></dt>
<dd><p>A <code>character</code> giving the type of regression to be
used in traversing the fluctuation submodel. The choices are "weighted" and
"standard".</p></dd>


<dt id="arg-flucmod-tol">flucmod_tol<a class="anchor" aria-label="anchor" href="#arg-flucmod-tol"></a></dt>
<dd><p>A <code>numeric</code> indicating the largest value to be
tolerated in the fluctuation model for the targeted minimum loss estimator.</p></dd>


<dt id="arg-eif-reg-type">eif_reg_type<a class="anchor" aria-label="anchor" href="#arg-eif-reg-type"></a></dt>
<dd><p>Whether a flexible nonparametric function ought to be
used in the dimension-reduced nuisance regression of the targeting step for
the censored data case. By default, the method used is a nonparametric
regression based on the Highly Adaptive Lasso (from <span class="pkg">hal9001</span>). Set
this to <code>"glm"</code> to instead use a simple linear regression model. In
this step, the efficient influence function (EIF) is regressed against
covariates contributing to the censoring mechanism (i.e., EIF ~ V | C = 1).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <code>list</code> containing the estimated outcome mechanism, the fitted
 fluctuation model for TML updates, the updated inverse probability of
 censoring weights (IPCW), the updated estimate of the efficient influence
 function, and the estimated IPCW component of the EIF.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>An adaptation of the IPCW-TMLE for iteratively constructing an
 efficient inverse probability of censoring weighted TML or one-step
 estimator. The efficient influence function of the parameter and updating
 the IPC weights in an iterative process, until a convergence criteria is
 satisfied.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nima Hejazi, David Benkeser.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

